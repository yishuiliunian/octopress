

##可扩展的展示与布局系统
为了支持可扩展的运营能力，让客户端的提醒能力不止局限于红点。可以是简单的

1. ![image](red_2.png)
2. ![image](red_3.png)
3. ...

这种单个红点，也可以是多种类型的复合型红点

![image](red_1.png)

我们使用了一个简单可扩展的布局系统，类图如下：

![](classes.png)




主要有两种类型组成定长的RPFixSpaceItemView和不定长的RPUnFixSpaceItemView。在展示红点的时候，会获取一个用来展示红点的区域（CGRect），然后按照填满的策略，将上述两种类型布局在这段区域内。

![](details.png)
###退化原则
因为红点属于辅助性提醒工具，所以一个基本原则，就是尽可能不影响原有的界面的展示或布局。因为当取到的用于展示红点的空间不足的情况下，会进行退化处理。退化会遵循以下算法：

1. 当空间不足的情况下，若存在多个红点则向单一红点退化。
2. 当只有一个红点时，如果依旧空间不足，则向小红点退化。退化之后，还是不足，则退化成不展示红点。



RPItemView通用属性
bg_color 背景色

RPImageItemView支持属性：
is_avatar 是否是头像
use_side_dot 是否在右上角添加红点

RPTextItemView 
color 前景色
corner_color 圆角的颜色